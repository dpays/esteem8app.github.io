<html><head><link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../iron-icon/iron-icon.html">
<link rel="import" href="../../iron-icons/editor-icons.html">
<link rel="import" href="../../iron-a11y-keys/iron-a11y-keys.html">
<link rel="import" href="../../paper-tooltip/paper-tooltip.html">
<link rel="import" href="../wysiwyg-tool-behavior.html">
<link rel="import" href="../wysiwyg-tool-styles.html">
</head><body><dom-module id="wysiwyg-tool-blockquote">
	<template>
		<style include="wysiwyg-tool-styles"></style>
		<paper-button disabled="[[disabled]]" id="button">
			<iron-icon icon="editor:format-quote"></iron-icon>
		</paper-button>
		<paper-tooltip id="tooltip" for="button" position="[[tooltipPosition]]" offset="5">[[localize('Blockquote')]] (Shift + Alt + Q)</paper-tooltip>
		<iron-a11y-keys id="a11y" target="[[target]]" keys="shift+alt+q" on-keys-pressed="execCommand"></iron-a11y-keys>
	</template>
	<script>Polymer({is:"wysiwyg-tool-blockquote",behaviors:[WYSIWYG.ToolBehavior],ready:function(){this._setCommand("formatBlock"),this.resources={en:{Blockquote:"Blockquote"}}},execCommand:function(){if(this.disabled||!this.range0)return!1;if(this.active)if(this.commonAncestorPath){for(var t=0;t<this.commonAncestorPath.length;t+=1)if("BLOCKQUOTE"===this.commonAncestorPath[t].tagName){var e=this.commonAncestorPath[t],o=e.parentNode;this.range0.selectNodeContents(e),o.insertBefore(this.range0.extractContents(),e),o.removeChild(e);break}}else document.execCommand("formatBlock",null,"P");else{if(this.commonAncestorPath)for(var t=0;t<this.commonAncestorPath.length;t+=1)if("BLOCKQUOTE"===this.commonAncestorPath[t].tagName){var e=this.commonAncestorPath[t],o=e.parentNode;this.range0.selectNodeContents(e),o.insertBefore(this.range0.extractContents(),e),o.removeChild(e);break}document.execCommand("formatBlock",null,"BLOCKQUOTE")}},queryCommandState:function(){if(this.range0&&this.commonAncestorPath)for(var t=0;t<this.commonAncestorPath.length;t+=1)if("BLOCKQUOTE"===this.commonAncestorPath[t].tagName)return!0;return!1}});</script>
</dom-module></body></html>