<html><head><link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../iron-icons/editor-icons.html">
<link rel="import" href="../../iron-a11y-keys/iron-a11y-keys.html">
<link rel="import" href="../../paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../font-roboto/roboto.html">
<link rel="import" href="../../paper-item/paper-item.html">
<link rel="import" href="../wysiwyg-tool-behavior.html">
<link rel="import" href="../wysiwyg-tool-styles.html">
</head><body><dom-module id="wysiwyg-tool-heading">
	<template>
		<style include="wysiwyg-tool-styles"></style>
		<style>
			:host {
				font-family: Roboto;
			}

			paper-button {
				font-weight: bold;
				font-size: 18px;
			}

			paper-item {
				color: black;
			}

			paper-item:hover {
				cursor: pointer;
			}

			paper-item[active] {
				font-weight: bold;
				background: #e4e4e4;
			}
		</style>
		<paper-tooltip id="tooltip" for="button" position="[[tooltipPosition]]" offset="5">[[localize('Headings')]]</paper-tooltip>
		<paper-tooltip for="p" position="[[tooltipPosition]]" offset="5">[[localize('Paragraph')]] (Shift + Alt + 0)</paper-tooltip>
		<paper-tooltip for="h1" position="[[tooltipPosition]]" offset="5">[[localize('Heading', 'number', 1)]] (Shift + Alt + 1)</paper-tooltip>
		<paper-tooltip for="h2" position="[[tooltipPosition]]" offset="5">[[localize('Heading', 'number', 2)]] (Shift + Alt + 2)</paper-tooltip>
		<paper-tooltip for="h3" position="[[tooltipPosition]]" offset="5">[[localize('Heading', 'number', 3)]] (Shift + Alt + 3)</paper-tooltip>
		<paper-tooltip for="h4" position="[[tooltipPosition]]" offset="5">[[localize('Heading', 'number', 4)]] (Shift + Alt + 4)</paper-tooltip>
		<paper-tooltip for="h5" position="[[tooltipPosition]]" offset="5">[[localize('Heading', 'number', 5)]] (Shift + Alt + 5)</paper-tooltip>
		<paper-tooltip for="h6" position="[[tooltipPosition]]" offset="5">[[localize('Heading', 'number', 6)]] (Shift + Alt + 6)</paper-tooltip>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+0" on-keys-pressed="_p"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+1" on-keys-pressed="_h1"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+2" on-keys-pressed="_h2"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+3" on-keys-pressed="_h3"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+4" on-keys-pressed="_h4"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+5" on-keys-pressed="_h5"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+6" on-keys-pressed="_h6"></iron-a11y-keys>
		<paper-menu-button on-paper-dropdown-close="_paperDropdownClose" id="dropdown" disabled="[[disabled]]" dynamic-align="">
			<paper-button disabled="[[disabled]]" id="button" class="dropdown-trigger">
				<iron-icon icon="editor:format-size"></iron-icon>
			</paper-button>
			<div class="dropdown-content">
				<paper-item id="p">P</paper-item>
				<paper-item id="h1" hidden$="{{!h1}}">H1</paper-item>
				<paper-item id="h2" hidden$="{{!h2}}">H2</paper-item>
				<paper-item id="h3" hidden$="{{!h3}}">H3</paper-item>
				<paper-item id="h4" hidden$="{{!h4}}">H4</paper-item>
				<paper-item id="h5" hidden$="{{!h5}}">H5</paper-item>
				<paper-item id="h6" hidden$="{{!h6}}">H6</paper-item>
			</div>
		</paper-menu-button>
	</template>
	<script>Polymer({is:"wysiwyg-tool-heading",behaviors:[WYSIWYG.ToolBehavior],properties:{h1:{type:Boolean,value:!1},h2:{type:Boolean,value:!1},h3:{type:Boolean,value:!1},h4:{type:Boolean,value:!1},h5:{type:Boolean,value:!1},h6:{type:Boolean,value:!1}},ready:function(){this._setCommand("formatBlock"),this.resources={en:{Headings:"Headings",Paragraph:"Paragraph",Heading:"Heading {number}"}}},execCommand:function(t){if(this.disabled||!this.range0)return!1;var e=Polymer.dom(t).rootTarget;this.$.p.contains(e)?this._heading(0):this.$.h1.contains(e)?this._heading(1):this.$.h2.contains(e)?this._heading(2):this.$.h3.contains(e)?this._heading(3):this.$.h4.contains(e)?this._heading(4):this.$.h5.contains(e)?this._heading(5):this.$.h6.contains(e)&&this._heading(6)},queryCommandState:function(){if(this.range0&&this.commonAncestorPath)for(var t=0;t<this.commonAncestorPath.length;t+=1){var e=("P"===this.commonAncestorPath[t].tagName,"H1"===this.commonAncestorPath[t].tagName);e?this.$.h1.setAttribute("active",""):this.$.h1.removeAttribute("active");var i="H2"===this.commonAncestorPath[t].tagName;i?this.$.h2.setAttribute("active",""):this.$.h2.removeAttribute("active");var h="H3"===this.commonAncestorPath[t].tagName;h?this.$.h3.setAttribute("active",""):this.$.h3.removeAttribute("active");var a="H4"===this.commonAncestorPath[t].tagName;a?this.$.h4.setAttribute("active",""):this.$.h4.removeAttribute("active");var n="H5"===this.commonAncestorPath[t].tagName;n?this.$.h5.setAttribute("active",""):this.$.h5.removeAttribute("active");var o="H6"===this.commonAncestorPath[t].tagName;if(o?this.$.h6.setAttribute("active",""):this.$.h6.removeAttribute("active"),e||i||h||a||n||o)return this.$.p.removeAttribute("active"),!0;this.$.p.setAttribute("active","")}return!1},_h1:function(){this._heading(1)},_h2:function(){this._heading(2)},_h3:function(){this._heading(3)},_h4:function(){this._heading(4)},_h5:function(){this._heading(5)},_h6:function(){this._heading(6)},_heading:function(t){if(this.disabled||!this.range0||t!==parseInt(t)||t<0||t>6)return!1;for(var e,i=0;i<this.commonAncestorPath.length;i+=1)if(["H"+t].indexOf(this.commonAncestorPath[i].tagName)>=0){e=!0;break}this.$.dropdown.close(),this.async(function(){e||0===t?document.execCommand("formatBlock",null,"P"):document.execCommand("formatBlock",null,"H"+t)},10)},_p:function(){this._heading(0)},_paperDropdownClose:function(t){t.target===this.$.dropdown&&this.fire("restore-selection")}});</script>
</dom-module></body></html>