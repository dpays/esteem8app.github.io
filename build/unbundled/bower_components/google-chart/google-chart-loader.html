<html><head><link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../promise-polyfill/promise-polyfill.html">
<link rel="import" href="charts-loader.html">

<script>!function(){"use strict";function e(e){return google[0===e.indexOf("md-")?r.CHARTS:r.VIS]}var t="corechart",r={CHARTS:"charts",VIS:"visualization"},a={area:{ctor:"AreaChart"},bar:{ctor:"BarChart"},"md-bar":{ctor:"Bar",pkg:"bar"},bubble:{ctor:"BubbleChart"},calendar:{ctor:"Calendar",pkg:"calendar"},candlestick:{ctor:"CandlestickChart"},column:{ctor:"ColumnChart"},combo:{ctor:"ComboChart"},gauge:{ctor:"Gauge",pkg:"gauge"},geo:{ctor:"GeoChart"},histogram:{ctor:"Histogram"},line:{ctor:"LineChart"},"md-line":{ctor:"Line",pkg:"line"},org:{ctor:"OrgChart",pkg:"orgchart"},pie:{ctor:"PieChart"},sankey:{ctor:"Sankey",pkg:"sankey"},scatter:{ctor:"ScatterChart"},"md-scatter":{ctor:"Scatter",pkg:"scatter"},"stepped-area":{ctor:"SteppedAreaChart"},table:{ctor:"Table",pkg:"table"},timeline:{ctor:"Timeline",pkg:"timeline"},treemap:{ctor:"TreeMap",pkg:"treemap"},wordtree:{ctor:"WordTree",namespace:r.VIS,pkg:"wordtree"}},n={},o={},c={};Polymer({is:"google-chart-loader",properties:{packages:{type:Array,value:function(){return[]},observer:"_loadPackages"},type:{type:String,observer:"_loadPackageForType"}},get _corePackage(){return o[t]?o[t]:this._loadPackages([t]).then(function(e){return e[0]})},_loadPackagesDebounce:function(){this.debounce("loadPackages",function(){var e=Object.keys(n);e.length&&(n={},google.charts.load("current",{packages:e,language:document.documentElement.lang||"en"}),google.charts.setOnLoadCallback(function(){e.forEach(function(e){this.fire("loaded",e),c[e](google.visualization)}.bind(this))}.bind(this)))},100)},_loadPackages:function(e){var t=[];return e.forEach(function(e){o[e]||(n[e]=!0,o[e]=new Promise(function(t){c[e]=t}),this._loadPackagesDebounce()),t.push(o[e])}.bind(this)),Promise.all(t)},_loadPackageForType:function(r){var n=a[r];return n?this._loadPackages([n.pkg||t]).then(function(){var t=google[n.namespace]||e(r);return t[n.ctor]}):Promise.reject("This chart type is not yet supported: "+r)},create:function(e,t){return this._loadPackageForType(e).then(function(e){return new e(t)})},fireOnChartEvent:function(e,t,r){return this._corePackage.then(function(a){var n=r?a.events.addOneTimeListener:a.events.addListener;n(e,t,function(r){this.fire("google-chart-"+t,{chart:e,data:r})}.bind(this))}.bind(this))},dataTable:function(e){return this._corePackage.then(function(t){return null==e?new t.DataTable:e.getNumberOfRows?e:e.cols?new t.DataTable(e):e.length>0?t.arrayToDataTable(e):0===e.length?Promise.reject("Data was empty."):Promise.reject("Data format was not recognized.")})},dataView:function(e){return this._corePackage.then(function(t){return new t.DataView(e)})},query:function(e,t){return this._corePackage.then(function(r){return new r.Query(e,t)})}})}();</script>
</head><body></body></html>