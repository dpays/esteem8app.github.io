<html><head><link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../paper-button/paper-button.html">
<link rel="import" href="../../iron-icons/editor-icons.html">
<link rel="import" href="../../iron-a11y-keys/iron-a11y-keys.html">
<link rel="import" href="../../paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../font-roboto/roboto.html">
<link rel="import" href="../../paper-item/paper-item.html">
<link rel="import" href="../wysiwyg-tool-behavior.html">
<link rel="import" href="../wysiwyg-tool-styles.html">
</head><body><dom-module id="wysiwyg-tool-justify">
	<template>
		<style include="wysiwyg-tool-styles"></style>
		<style>
			:host {
				font-family: Roboto;
			}

			paper-button {
				font-weight: bold;
				font-size: 18px;
			}

			paper-item {
				color: black;
			}

			paper-item:hover {
				cursor: pointer;
			}

			paper-item[active] {
				font-weight: bold;
				background: #e4e4e4;
			}
		</style>
		<paper-tooltip id="tooltip" for="button" position="[[tooltipPosition]]" offset="5">[[localize('Justify')]]</paper-tooltip>
		<paper-tooltip for="left" position="[[tooltipPosition]]" offset="5">[[localize('Left')]] (Shift + Alt + L)</paper-tooltip>
		<paper-tooltip for="right" position="[[tooltipPosition]]" offset="5">[[localize('Right')]] (Shift + Alt + R)</paper-tooltip>
		<paper-tooltip for="center" position="[[tooltipPosition]]" offset="5">[[localize('Center')]] (Shift + Alt + E)</paper-tooltip>
		<paper-tooltip for="full" position="[[tooltipPosition]]" offset="5">[[localize('Full')]] (Shift + Alt + J)</paper-tooltip>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+l" on-keys-pressed="_left"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+r" on-keys-pressed="_right"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+c" on-keys-pressed="_center"></iron-a11y-keys>
		<iron-a11y-keys target="[[target]]" keys="shift+alt+j" on-keys-pressed="_full"></iron-a11y-keys>
		<paper-menu-button on-paper-dropdown-close="_paperDropdownClose" id="dropdown" disabled="[[disabled]]" dynamic-align="">
			<paper-button disabled="[[disabled]]" id="button" class="dropdown-trigger">
				<iron-icon id="icon" icon="editor:format-align-left"></iron-icon>
			</paper-button>
			<div class="dropdown-content">
				<paper-item id="left">[[localize('Left')]]</paper-item>
				<paper-item id="right" hidden$="{{!right}}">[[localize('Right')]]</paper-item>
				<paper-item id="center" hidden$="{{!center}}">[[localize('Center')]]</paper-item>
				<paper-item id="full" hidden$="{{!full}}">[[localize('Full')]]</paper-item>
			</div>
		</paper-menu-button>
	</template>
	<script>Polymer({is:"wysiwyg-tool-justify",behaviors:[WYSIWYG.ToolBehavior],properties:{right:{type:Boolean,value:!1},center:{type:Boolean,value:!1},full:{type:Boolean,value:!1}},ready:function(){this._setCommand("formatBlock"),this.resources={en:{Justify:"Justify",Left:"Left",Right:"Right",Center:"Center",Full:"Full"}}},execCommand:function(t){if(this.disabled||!this.range0)return!1;var e=Polymer.dom(t).rootTarget;this.$.left.contains(e)?this._left():this.$.right.contains(e)?this._right():this.$.center.contains(e)?this._center():this.$.full.contains(e)&&this._full()},queryCommandState:function(){if(this.range0){var t=document.queryCommandState("justifyLeft");t?(this.$.left.setAttribute("active",""),this.$.icon.icon="editor:format-align-left"):this.$.left.removeAttribute("active");var e=document.queryCommandState("justifyRight");e?(this.$.right.setAttribute("active",""),this.$.icon.icon="editor:format-align-right"):this.$.right.removeAttribute("active");var i=document.queryCommandState("justifyCenter");i?(this.$.center.setAttribute("active",""),this.$.icon.icon="editor:format-align-center"):this.$.center.removeAttribute("active");var n=document.queryCommandState("justifyFull");if(n?(this.$.full.setAttribute("active",""),this.$.icon.icon="editor:format-align-justify"):this.$.full.removeAttribute("active"),e||i||n)return!0}return!1},_justify:function(t){return!(this.disabled||!this.range0||["left","right","center","full"].indexOf(t)===-1)&&(this.$.dropdown.close(),void this.async(function(){var e="justify"+t.charAt(0).toUpperCase()+t.slice(1);document.queryCommandState(e)?document.execCommand("justifyLeft"):document.execCommand(e)},10))},_left:function(){this._justify("left")},_right:function(){this._justify("right")},_center:function(){this._justify("center")},_full:function(){this._justify("full")},_paperDropdownClose:function(t){t.target===this.$.dropdown&&this.fire("restore-selection")}});</script>
</dom-module></body></html>