<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">

<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">

<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-card/paper-card.html">

<link rel="import" href="../components/post-card-light.html">
<link rel="import" href="../components/post-wrapper.html">
<link rel="import" href="../components/html-echo.html">

<link rel="import" href="my-icons.html">
<link rel="import" href="../shared-styles.html">

</head><body><dom-module id="profile-about">

    <template>

        <style include="shared-styles">

            /* GENERAL */
            paper-card {
                margin-top: 16px;
                min-width: 100%;
            }

            .aboutValues {
                display: block;
                font-family: 'Roboto', 'Open Sans', 'Lato', sans-serif;
                padding-bottom: 4px;
            }

            .aboutValues .name {
                color: var(--app-secondary-color);
            }

            #viewName {
                display: inline-block;
                vertical-align: sub;
                margin-top: 0;
                color: var(--app-background-primary-text-color);
            }

            #votingPower {
                display: inline-flex;
                vertical-align: middle;
                width: 100%;
            }

            #votingPowerBar {
                width: 100%;
                --paper-slider-disabled-knob-color: var(--app-primary-color);
                --paper-slider-disabled-secondary-color: var(--app-background-secondary-text-color);
                --paper-slider-disabled-active-color: var(--app-background-primary-text-color);
            }

            .link a {
                color: var(--app-secondary-color) !important;
            }

            .link iron-icon {
                color: var(--app-background-primary-text-color);
            }

            paper-card {
                background-color: var(--app-secondary-background-color);
                --paper-card-header-text: {
                    font-size: 18px;
                    padding-bottom: 0;
                    text-transform: uppercase;
                    font-family: 'Roboto', 'Open Sans', sans-serif;
                    color: var(--app-background-primary-text-color);
                };
                margin-top: 12px;
                margin-bottom: 12px;
                min-width: 800px;
            }


            #lastestPostList {
                max-width: 568px;
                overflow: auto;
                display: inline-flex;
            }

            paper-menu-button {
                color: var(--app-background-primary-text-color);
                margin-left: 8px;
            }

            paper-menu, paper-item {
                background-color: var(--app-secondary-background-color);
                color: var(--app-background-secondary-text-color);
            }

            .pinnedPostVotes {
                color: var(--app-background-primary-text-color);
            }

        </style>

        
        <paper-menu-button>

            <paper-icon-button icon="menu" class="dropdown-trigger"></paper-icon-button>

            <paper-menu id="menu" class="dropdown-content">
                <paper-item view="home">Home</paper-item>
                <template is="dom-repeat" items="[[account.pinnedPosts]]">
                    <paper-item view="[[item.name]]">[[_capitalizeFirstLetter(item.name)]]</paper-item>
                </template>
            </paper-menu>

        </paper-menu-button>


        <h2 id="viewName">[[_capitalizeFirstLetter(_view)]]</h2>

        
        <iron-pages selected="[[_view]]" attr-for-selected="name">

            
            <div name="home">

                
                <template is="dom-if" if="[[_isSomethingToSayAbout(account.about, account.location, account.website, account.webLinks)]]">
                    <paper-card>

                        <div class="card-content">

                            <template is="dom-if" if="[[account.about.length]]">
                                <div class="about">
                                    <p>[[account.about]]</p>
                                </div>
                            </template>

                            <template is="dom-if" if="[[account.location.length]]">
                                <div class="location">
                                    <iron-icon icon="my-icons:map"></iron-icon>
                                    <span>[[account.location]]</span>
                                </div>
                            </template>

                            <template is="dom-if" if="[[account.website.length]]">
                                <div class="link website">
                                    <iron-icon icon="my-icons:web"></iron-icon>
                                    <a target="_blank" href="[[account.website]]">[[_computeLinkText(account.website)]]</a>
                                </div>
                            </template>

                            <template is="dom-if" if="[[account.webLinks.length]]">
                                <template is="dom-repeat" items="[[account.webLinks]]">
                                    <div class="link">
                                        <iron-icon icon="my-icons:[[_computeLinkIcon(item)]]"></iron-icon>
                                        <a target="_blank" href="[[item]]">[[_computeLinkText(item)]]</a>
                                    </div>
                                </template>
                            </template>

                        </div>
                    </paper-card>
                </template>

                
                <template is="dom-if" if="[[account.customValues.length]]">
                    <paper-card heading="ABOUT">
                        <div class="card-content">
                            <template is="dom-repeat" items="[[account.customValues]]">

                                <div class="aboutValues">
                                    <span class="name">[[item.name]]:</span>
                                    <span class="value">&nbsp;[[item.value]]</span>
                                </div>

                            </template>
                        </div>
                    </paper-card>
                </template>

                
                <template is="dom-if" if="[[posts.length]]">
                    <paper-card heading="POSTS" class="homeCard">
                        <post-path-list posts="[[posts]]" query-path="false" post-type="card-light">
                        </post-path-list>
                    </paper-card>
                </template>

                
                <template is="dom-if" if="[[account.pinnedPost]]">
                    <paper-card>
                        <post-wrapper post-type="content-minimal" post-path="[[account.pinnedPost]]">
                        </post-wrapper>
                    </paper-card>
                </template>
            </div>

            
            <template is="dom-repeat" items="[[account.pinnedPosts]]" as="section">

                <div name="[[section.name]]">
                    <template is="dom-repeat" items="[[section.posts]]" as="postPath">
                        [[postPath]]
                        <paper-card>
                            <post-wrapper post-type="content-minimal" post-path="[[postPath]]">
                            </post-wrapper>
                        </paper-card>
                    </template>
                </div>

            </template>

        </iron-pages>

    </template>
</dom-module>

<script>Polymer({is:"profile-about",properties:{account:{type:Object},posts:{type:Array},showProgress:{type:Boolean},_view:{type:String}},listeners:{"menu.tap":"_selectView"},observers:["_resetView(posts)"],ready:function(){this._view="home"},_selectView:function(e){return"undefined"!=typeof e.path[0]&&"undefined"!=typeof e.path[0].view?void(this._view=e.path[0].view):void(this._view="home")},_resetView:function(e){e&&(this._view="home")},_isSomethingToSayAbout:function(e,t,i,n){return e.length||t.length||i.length||n.length},_capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},_computeLinkIcon:function(e){return e.includes("github.com")||e.includes("github.io")?"github":e.includes("plus.google.com")?"google-plus":e.includes("twitter.com")?"twitter":e.includes("facebook.com")?"facebook":e.includes("google")&&e.includes("maps")?"map":e.includes("dribbble")?"dribbble":e.includes("jira")?"jira":e.includes("slack.com")?"slack":e.includes("snapchat")?"snapchat":e.includes("soundcloud.com")?"soundcloud":e.includes("twitch.tv")?"twitch":e.includes("discordapp.com")?"discord":"link"},_computeLinkText:function(e){if("undefined"!=typeof e){var e=e.replace("https://","").replace("http://","").replace("www.","");return e}return""}});</script></body></html>